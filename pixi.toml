[workspace]
authors = ["Johannes Nørskov Toke <johannestoke@gmail.com>"]
channels = ["conda-forge", "pytorch"]
name = "loudspeaker.py"
platforms = ["linux-64"]
version = "0.1.0"

# Development dependencies
[dependencies]
python = ">=3.10"

# Scientific computing and ML
numpy = "*"
scipy = "*"
pandas = "*"

# Deep learning frameworks
torch = ">=2.0.0"
torchvision = "*"
torchaudio = "*"

# JAX ecosystem for diffrax
jax = ">=0.4.0"
jaxlib = "*"
# Note: jaxlib might need to be installed via pip separately for GPU support

# Differential equation solvers
diffrax = ">=0.4.0"
equinox = ">=0.10.0"

# Optimization
optax = ">=0.1.0"

# Visualization and plotting
matplotlib = "*"
seaborn = "*"
plotly = "*"

# Experiment tracking
tensorboard = "*"
torch-summary = "*"

# Jupyter ecosystem
jupyter = "*"
jupyterlab = "*"
ipykernel = "*"
ipywidgets = "*"
notebook = "*"
jupyter-console = "*"
qtconsole = "*"

# Development tools
black = "*"
isort = "*"
flake8 = "*"
mypy = "*"
pytest = "*"
pytest-cov = "*"
pre-commit = "*"

# Additional utilities
tqdm = "*"
rich = "*"
click = "*"
hydra-core = "*"
omegaconf = "*"
loguru = "*"
fire = "*"

# Data handling
h5py = "*"
Pillow = "*"
opencv-python = "*"
scikit-image = "*"
scikit-learn = "*"

# Configuration management
pyyaml = "*"
jsonargparse = "*"

# Async support if needed
aiohttp = "*"
asyncio = "*"

[tasks]
# Install Jupyter kernel for this environment
init-kernel = "python -m ipykernel install --user --name=loudspeaker-py --display-name='Loudspeaker Python (CFES)'"

# Development setup
dev-setup = "pre-commit install && python -m pip install -e ."

# Run tests
test = "pytest"

# Run tests with coverage
test-cov = "pytest --cov=src --cov-report=term-missing --cov-report=html"

# Format code
format = "black src tests scripts && isort src tests scripts"

# Type checking
type-check = "mypy src"

# Lint code
lint = "flake8 src tests scripts"

# Start Jupyter Lab
jupyter-lab = "jupyter lab"

# Start Jupyter Notebook
jupyter-notebook = "jupyter notebook"

# Clean build artifacts
clean = "rm -rf build/ dist/ *.egg-info/ .pytest_cache/ htmlcov/ .coverage"

# Build package
build = "python -m build"

# Install in development mode
install-dev = "python -m pip install -e ."

# Uninstall package
uninstall = "python -m pip uninstall -y loudspeaker-py"

[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "loudspeaker-py"
version = "0.1.0"
description = "CFES (Controlled Functional Expansion Systems) testing framework for loudspeaker modeling"
readme = "README.md"
requires-python = ">=3.10"
license = {text = "MIT"}
authors = [
    {name = "Johannes Nørskov Toke", email = "johannestoke@gmail.com"}
]
keywords = ["differential-equations", "neural-cdes", "control-systems", "loudspeaker", "diffrax", "jax", "pytorch"]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Topic :: Scientific/Engineering :: Mathematics",
    "Topic :: Software Development :: Libraries :: Python Modules"
]
dependencies = [
    "numpy>=1.21.0",
    "scipy>=1.7.0",
    "pandas>=1.3.0",
    "matplotlib>=3.5.0",
    "torch>=2.0.0",
    "jax>=0.4.0",
    "diffrax>=0.4.0",
    "equinox>=0.10.0",
    "optax>=0.1.0"
]

[project.optional-dependencies]
dev = [
    "black",
    "isort",
    "flake8",
    "mypy",
    "pytest",
    "pytest-cov",
    "pre-commit"
]
jupyter = [
    "jupyter",
    "jupyterlab",
    "ipykernel",
    "ipywidgets",
    "notebook"
]
docs = [
    "sphinx",
    "sphinx-rtd-theme",
    "myst-parser"
]

[project.scripts]
loudspeaker-test = "scripts.test_runner:main"
loudspeaker-experiments = "scripts.experiment_runner:main"
loudspeaker-cli = "src.cli:main"
